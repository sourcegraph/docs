# Gitolite

<TierCallout>
  Supported on [Enterprise](/pricing/enterprise) plans.
  <user>
    Available via the Web app.
  </user>
</TierCallout>

> NOTE: While it is possible to connect Gitolite repositories to Sourcegraph, we currently do not recommend it. If you have specific questions, please discuss with your account team.

Site admins can link and sync Git repositories on [Gitolite](https://gitolite.com) with Sourcegraph so that users can search and navigate the repositories.

To connect Gitolite to Sourcegraph:

1. Set up [git SSH authentication](/admin/repo/auth) for your gitolite server.
1. Go to **Site admin > Manage code hosts > Add repositories**
1. Select **Gitolite**.
1. Configure the connection to Gitolite using the action buttons above the text field, and additional fields can be added using `Cmd/Ctrl+Space` for auto-completion. See the [configuration documentation below](#configuration).
1. Press **Add repositories**.

## Configuration

{/* <div markdown-func=jsonschemadoc jsonschemadoc:path="admin/code_hosts/gitolite.schema.json">[View page on sourcegraph.com/docs](/admin/code_hosts/gitolite) to see rendered content.</div> */}

### admin/code_hosts/gitolite.schema.json

{/* SCHEMA_SYNC_START: admin/code_hosts/gitolite.schema.json */}
{/* WARNING: This section is auto-generated during releases. Do not edit manually. */}
{/* Last updated: 2025-07-01T19:22:29Z via sourcegraph/sourcegraph@v6.5.1211 */}
```json
{
	"$id": "gitolite.schema.json#",
	"$schema": "http://json-schema.org/draft-07/schema#",
	"additionalProperties": false,
	"allowComments": true,
	"description": "Configuration for a connection to Gitolite.",
	"properties": {
		"exclude": {
			"description": "A list of repositories to never mirror from this Gitolite instance. Supports excluding by exact name ({\"name\": \"foo\"}).",
			"examples": [
				[
					{
						"name": "myrepo"
					},
					{
						"pattern": ".*secret.*"
					}
				]
			],
			"items": {
				"additionalProperties": false,
				"anyOf": [
					{
						"required": [
							"name"
						]
					},
					{
						"required": [
							"pattern"
						]
					}
				],
				"properties": {
					"name": {
						"description": "The name of a Gitolite repo (\"my-repo\") to exclude from mirroring.",
						"minLength": 1,
						"type": "string"
					},
					"pattern": {
						"description": "Regular expression which matches against the name of a Gitolite repo to exclude from mirroring.",
						"format": "regex",
						"type": "string"
					}
				},
				"title": "ExcludedGitoliteRepo",
				"type": "object"
			},
			"minItems": 1,
			"type": "array"
		},
		"gitSSHCipher": {
			"$ref": "git.schema.json#/definitions/gitSSHCipher",
			"description": "SSH cipher to use when cloning via SSH. Must be a valid choice from `ssh -Q cipher`."
		},
		"gitSSHCredential": {
			"$ref": "git.schema.json#/definitions/gitSSHCredential",
			"description": "SSH keys to use when cloning Git repo."
		},
		"host": {
			"description": "Gitolite host that stores the repositories (e.g., git@gitolite.example.com, ssh://git@gitolite.example.com:2222/).",
			"examples": [
				"git@gitolite.example.com",
				"ssh://git@gitolite.example.com:2222/"
			],
			"not": {
				"pattern": "example\\.com",
				"type": "string"
			},
			"type": "string"
		},
		"phabricator": {
			"additionalProperties": false,
			"deprecationMessage": "DEPRECATED: the Phabricator integration with Gitolite code hosts is deprecated",
			"description": "This is DEPRECATED",
			"properties": {
				"callsignCommand": {
					"description": " Bash command that prints out the Phabricator callsign for a Gitolite repository. This will be run with environment variable $REPO set to the name of the repository and used to obtain the Phabricator metadata for a Gitolite repository. (Note: this requires `bash` to be installed.)",
					"type": "string"
				},
				"url": {
					"!go": {
						"typeName": "NormalizedURL"
					},
					"description": "URL of the Phabricator instance that integrates with this Gitolite instance. This should be set ",
					"format": "uri",
					"type": "string"
				}
			},
			"required": [
				"url",
				"callsignCommand"
			],
			"type": "object"
		},
		"phabricatorMetadataCommand": {
			"deprecationMessage": "DEPRECATED: the Phabricator integration with Gitolite code hosts is deprecated",
			"description": "This is DEPRECATED",
			"type": "string"
		},
		"prefix": {
			"description": "Repository name prefix that will map to this Gitolite host. This should likely end with a trailing slash. E.g., \"gitolite.example.com/\".\n\nIt is important that the Sourcegraph repository name generated with this prefix be unique to this code host. If different code hosts generate repository names that collide, Sourcegraph's behavior is undefined.",
			"examples": [
				"gitolite.example.com/"
			],
			"not": {
				"pattern": "example\\.com",
				"type": "string"
			},
			"type": "string"
		}
	},
	"required": [
		"prefix",
		"host"
	],
	"title": "GitoliteConnection",
	"type": "object"
}
```
{/* SCHEMA_SYNC_END: admin/code_hosts/gitolite.schema.json */}
## Configuration Notes

- **SSH Authentication Required**: Gitolite requires SSH key-based authentication. Ensure your Sourcegraph instance has proper SSH access to the Gitolite server.
- **Prefix Configuration**: The `prefix` field determines how repository names appear in Sourcegraph. Use a unique prefix to avoid conflicts with other code hosts.
- **Host Format**: The `host` field accepts both simple Git SSH URLs (e.g., `git@gitolite.example.com`) and full SSH URLs with custom ports (e.g., `ssh://git@gitolite.example.com:2222/`).

## Security Considerations

- **SSH Key Management**: Store SSH private keys securely and rotate them regularly. Use dedicated service accounts for Sourcegraph access.
- **Network Access**: Ensure Sourcegraph can reach the Gitolite server on the required SSH port (typically 22).
- **Repository Visibility**: By default, all configured repositories are visible to all Sourcegraph users. Configure repository permissions appropriately.
- **Deprecated Fields**: The `phabricator` and `phabricatorMetadataCommand` fields are deprecated and should not be used.

## Common Examples

### Basic Gitolite Configuration

```json
{
  "host": "git@gitolite.example.com",
  "prefix": "gitolite.example.com/",
  "exclude": [
    {
      "name": "secret-repo"
    },
    {
      "pattern": ".*private.*"
    }
  ]
}
```

### Custom SSH Port

```json
{
  "host": "ssh://git@gitolite.example.com:2222/",
  "prefix": "gitolite.example.com/",
  "exclude": [
    {
      "pattern": ".*test.*"
    }
  ]
}
```

## Best Practices

- **Use Meaningful Prefixes**: Choose descriptive prefixes that clearly identify the Gitolite instance (e.g., `gitolite.mycompany.com/`).
- **Regular Exclusion Patterns**: Use the `exclude` field to filter out test repositories, temporary branches, or sensitive repositories.
- **Monitor SSH Connectivity**: Regularly verify that SSH authentication continues to work between Sourcegraph and Gitolite.
- **Documentation**: Document your Gitolite configuration for team members, especially SSH key management procedures.
