# Sourcegraph API Reference

## Queries

### `areExecutorsConfigured`

#### Description

Returns true if executors have been configured on the Sourcegraph instance. This is based on heuristics and doesn't necessarily mean that they would be working.

#### Response

Returns a `boolean`!

#### Example Query

```
query areExecutorsConfigured {
  areExecutorsConfigured
}
```

#### Example Response

```
{"data": {"areExecutorsConfigured": false}}
```

### `autocompleteMembersSearch`

#### Description

Search for users that opt-in to search autocomplete.

#### Response

Returns [AutocompleteMemberSearchItem](#AutocompleteMemberSearchItem)

#### Arguments

|       Name        |                          Description                           |
| ----------------- | -------------------------------------------------------------- |
| organization - ID | The organization ID.                                           |
| query - String    | Return users whose usernames or display names match the query. |

#### Example

#### Query

```
query autocompleteMembersSearch(
  $organization: ID!,
  $query: String!
) {
  autocompleteMembersSearch(
    organization: $organization,
    query: $query
  ) {
    id
    username
    displayName
    avatarURL
    inOrg
  }
}
```

#### Variables

```
{"organization": 4, "query": "abc123"}
```

#### Response

```
{
  "data": {
    "autocompleteMembersSearch": [
      {
        "id": "4",
        "username": "abc123",
        "displayName": "xyz789",
        "avatarURL": "xyz789",
        "inOrg": false
      }
    ]
  }
}
```

### backgroundJobs

#### Description

Get a list of background jobs that are currently known in the system.

#### Response

Returns a BackgroundJobConnection!

#### Arguments

|         Name         |                            Description                            |
| -------------------- | ----------------------------------------------------------------- |
| first - Int          | Returns the first n jobs. If omitted then it returns all of them. |
| after - String       | Opaque pagination cursor.                                         |
| recentRunCount - Int | The maximum number of recent runs to return for each routine.     |

#### Example

#### Query

```
query backgroundJobs(
  $first: Int,
  $after: String,
  $recentRunCount: Int
) {
  backgroundJobs(
    first: $first,
    after: $after,
    recentRunCount: $recentRunCount
  ) {
    nodes {
      ...BackgroundJobFragment
    }
    totalCount
    pageInfo {
      ...PageInfoFragment
    }
  }
}
```

#### Variables

```
{
  "first": 987,
  "after": "abc123",
  "recentRunCount": 123
}
```

#### Response

```
{
  "data": {
    "backgroundJobs": {
      "nodes": [BackgroundJob],
      "totalCount": 123,
      "pageInfo": PageInfo
    }
  }
}
```

### clientConfiguration

#### Description

The configuration for clients.

#### Response

Returns a ClientConfigurationDetails!

#### Example

#### Query

```
query clientConfiguration {
  clientConfiguration {
    contentScriptUrls
    parentSourcegraph {
      ...ParentSourcegraphDetailsFragment
    }
  }
}
```

#### Response

```
{
  "data": {
    "clientConfiguration": {
      "contentScriptUrls": ["xyz789"],
      "parentSourcegraph": ParentSourcegraphDetails
    }
  }
}
```

### codeHostSyncDue

#### Description

Returns true if any of the code hosts supplied are syncing now or within "seconds" from now.

#### Response

Returns a Boolean!

#### Arguments

|     Name      | Description |
| ------------- | ----------- |
| ids - ID      |             |
| seconds — Int |             |

#### Example

#### Query

```
query codeHostSyncDue(
  $ids: [ID!]!,
  $seconds: Int!
) {
  codeHostSyncDue(
    ids: $ids,
    seconds: $seconds
  )
}
```

#### Variables

```
{"ids": ["4"], "seconds": 123}
```

#### Response

```
{"data": {"codeHostSyncDue": true}}
```

### currentUser

#### Description

The current user.

#### Response

Returns a User

#### Example

#### Query

```
query currentUser {
  currentUser {
    executorSecrets {
      ...ExecutorSecretConnectionFragment
    }
    id
    username
    email
    displayName
    avatarURL
    url
    settingsURL
    createdAt
    updatedAt
    siteAdmin
    builtinAuth
    latestSettings {
      ...SettingsFragment
    }
    settingsCascade {
      ...SettingsCascadeFragment
    }
    configurationCascade {
      ...ConfigurationCascadeFragment
    }
    organizations {
      ...OrgConnectionFragment
    }
    organizationMemberships {
      ...OrganizationMembershipConnectionFragment
    }
    tags
    tosAccepted
    searchable
    usageStatistics {
      ...UserUsageStatisticsFragment
    }
    eventLogs {
      ...EventLogsConnectionFragment
    }
    emails {
      ...UserEmailFragment
    }
    accessTokens {
      ...AccessTokenConnectionFragment
    }
    externalAccounts {
      ...ExternalAccountConnectionFragment
    }
    session {
      ...SessionFragment
    }
    viewerCanAdminister
    viewerCanChangeUsername
    surveyResponses {
      ...SurveyResponseFragment
    }
    databaseID
    namespaceName
    invitableCollaborators {
      ...PersonFragment
    }
    teams {
      ...TeamConnectionFragment
    }
  }
}
```

#### Response

```
{
  "data": {
    "currentUser": {
      "executorSecrets": ExecutorSecretConnection,
      "id": "4",
      "username": "xyz789",
      "email": "xyz789",
      "displayName": "xyz789",
      "avatarURL": "xyz789",
      "url": "xyz789",
      "settingsURL": "xyz789",
      "createdAt": "2007-12-03T10:15:30Z",
      "updatedAt": "2007-12-03T10:15:30Z",
      "siteAdmin": false,
      "builtinAuth": false,
      "latestSettings": Settings,
      "settingsCascade": SettingsCascade,
      "configurationCascade": ConfigurationCascade,
      "organizations": OrgConnection,
      "organizationMemberships": OrganizationMembershipConnection,
      "tags": ["abc123"],
      "tosAccepted": true,
      "searchable": false,
      "usageStatistics": UserUsageStatistics,
      "eventLogs": EventLogsConnection,
      "emails": [UserEmail],
      "accessTokens": AccessTokenConnection,
      "externalAccounts": ExternalAccountConnection,
      "session": Session,
      "viewerCanAdminister": false,
      "viewerCanChangeUsername": true,
      "surveyResponses": [SurveyResponse],
      "databaseID": 987,
      "namespaceName": "abc123",
      "invitableCollaborators": [Person],
      "teams": TeamConnection
    }
  }
}
```

### evaluateFeatureFlag

#### Description

Evaluates a feature flag for the current user Returns null if feature flag does not exist

#### Response

Returns a Boolean

#### Arguments

|       Name        | Description |
| ----------------- | ----------- |
| flagName - String |             |

#### Example

#### Query

```
query evaluateFeatureFlag($flagName: String!) {
  evaluateFeatureFlag(flagName: $flagName)
}
```

#### Variables

```
{"flagName": "abc123"}
```

#### Response

```
{"data": {"evaluateFeatureFlag": true}}
```

### evaluatedFeatureFlags

#### Description

Retrieve all evaluated feature flags for the current user

#### Response

Returns `EvaluatedFeatureFlag`

#### Example

#### Query

```
query evaluatedFeatureFlags {
  evaluatedFeatureFlags {
    name
    value
  }
}
```

#### Response

```
{
  "data": {
    "evaluatedFeatureFlags": [
      {"name": "xyz789", "value": true}
    ]
  }
}
```

### executorSecrets

#### Description

The list of all globally available executor secrets.

#### Response

Returns an `ExecutorSecretConnection`

#### Arguments

|            Name             |                  Description                   |
| --------------------------- | ---------------------------------------------- |
| scope — ExecutorSecretScope | The scope for which secrets shall be returned. |
| first — Int                 | Only return N records. Default = 50            |
| after — String              | Opaque cursor for pagination.                  |

#### Example

#### Query

```
query executorSecrets(
  $scope: ExecutorSecretScope!,
  $first: Int,
  $after: String
) {
  executorSecrets(
    scope: $scope,
    first: $first,
    after: $after
  ) {
    nodes {
      ...ExecutorSecretFragment
    }
    totalCount
    pageInfo {
      ...PageInfoFragment
    }
  }
}
```

#### Variables

```
{
  "scope": "BATCHES",
  "first": 50,
  "after": "xyz789"
}
```

#### Response

```
{
  "data": {
    "executorSecrets": {
      "nodes": [ExecutorSecret],
      "totalCount": 987,
      "pageInfo": PageInfo
    }
  }
}
```

### executors

#### Description

Retrieve active executor compute instances.

#### Response

Returns an `ExecutorConnection`

#### Arguments

|       Name       |                                                    Description                                                    |
| ---------------- | ----------------------------------------------------------------------------------------------------------------- |
| query — String   | An (optional) search query that searches over the hostname, queue name, os, architecture, and version properties. |
| active — Boolean | Whether to show only executors that have sent a heartbeat in the last fifteen minutes.                            |
| first — Int      | Returns the first n executors. Default = 50                                                                       |
| after — String   | Opaque pagination cursor.                                                                                         |

#### Example

#### Query

```
query executors(
  $query: String,
  $active: Boolean,
  $first: Int,
  $after: String
) {
  executors(
    query: $query,
    active: $active,
    first: $first,
    after: $after
  ) {
    nodes {
      ...ExecutorFragment
    }
    totalCount
    pageInfo {
      ...PageInfoFragment
    }
  }
}
```

#### Variables

```
{
  "query": "xyz789",
  "active": false,
  "first": 50,
  "after": "xyz789"
}
```

#### Response

```
{
  "data": {
    "executors": {
      "nodes": [Executor],
      "totalCount": 987,
      "pageInfo": PageInfo
    }
  }
}
```

### extensionRegistry

#### Description
The extension registry.

#### Response
Returns an `ExtensionRegistry`

#### Example
#### Query

```
query extensionRegistry {
  extensionRegistry {
    extensions {
      ...RegistryExtensionConnectionFragment
    }
  }
}
```

#### Response

```
{
  "data": {
    "extensionRegistry": {
      "extensions": RegistryExtensionConnection
    }
  }
}
```

### externalServiceNamespaces

#### Description
Lists all namespaces for a given external service connection. A namespace is an entity on the code host that repositories are assignable to.

#### Response
Returns an `ExternalServiceNamespaceConnection`

#### Arguments

|            Name            |                     Description                      |
| -------------------------- | ---------------------------------------------------- |
| kind — ExternalServiceKind | The kind of the external service.                    |
| token — String             | The secret token value that is used to authenticate. |
| url — String               | The URL of the external service.                     |

#### Example

#### Query

```
query externalServiceNamespaces(
  $kind: ExternalServiceKind!,
  $token: String!,
  $url: String!
) {
  externalServiceNamespaces(
    kind: $kind,
    token: $token,
    url: $url
  ) {
    nodes {
      ...ExternalServiceNamespaceFragment
    }
    totalCount
  }
}
```

#### Variables

```
{
  "kind": "AWSCODECOMMIT",
  "token": "abc123",
  "url": "abc123"
}
```

#### Response

```
{
  "data": {
    "externalServiceNamespaces": {
      "nodes": [ExternalServiceNamespace],
      "totalCount": 987
    }
  }
}
```

### externalServices
#### Description
Lists external services under given namespace. If no namespace is given, it returns all external services.

#### Response
Returns an `ExternalServiceConnection`

#### Arguments

|      Name      |                     Description                      |
| -------------- | ---------------------------------------------------- |
| first — Int    | Returns the first n external services from the list. |
| after — String | Opaque pagination cursor.                            |

#### Example

#### Query

```
query externalServices(
  $first: Int,
  $after: String
) {
  externalServices(
    first: $first,
    after: $after
  ) {
    nodes {
      ...ExternalServiceFragment
    }
    totalCount
    pageInfo {
      ...PageInfoFragment
    }
  }
}
```

#### Variables

```
{"first": 123, "after": "abc123"}
```

#### Response

```
{
  "data": {
    "externalServices": {
      "nodes": [ExternalService],
      "totalCount": 123,
      "pageInfo": PageInfo
    }
  }
}
```

### featureFlag

#### Description
Retrieve a feature flag

#### Response
Returns a `FeatureFlag`

#### Arguments

|     Name      | Description |
| ------------- | ----------- |
| name — String |             |

#### Example

#### Query

```
query featureFlag($name: String!) {
  featureFlag(name: $name) {
    ... on FeatureFlagBoolean {
      ...FeatureFlagBooleanFragment
    }
    ... on FeatureFlagRollout {
      ...FeatureFlagRolloutFragment
    }
  }
}
```

#### Variables

```
{"name": "abc123"}
```

#### Response

```
{"data": {"featureFlag": FeatureFlagBoolean}}
```

### featureFlags
#### Description
Retrieve the list of defined feature flags

#### Response
Returns `FeatureFlag`

#### Example
#### Query

```
query featureFlags {
  featureFlags {
    ... on FeatureFlagBoolean {
      ...FeatureFlagBooleanFragment
    }
    ... on FeatureFlagRollout {
      ...FeatureFlagRolloutFragment
    }
  }
}
```

#### Response

```
{"data": {"featureFlags": [FeatureFlagBoolean]}}
```

### highlightCode
#### Description
EXPERIMENTAL: Syntax highlights a code string.

#### Response
Returns a `String`

#### Arguments

|           Name           | Description |
| ------------------------ | ----------- |
| code — String            |             |
| fuzzyLanguage — String   |             |
| disableTimeout — Boolean |             |

#### Example
#### Query

```
query highlightCode(
  $code: String!,
  $fuzzyLanguage: String!,
  $disableTimeout: Boolean!
) {
  highlightCode(
    code: $code,
    fuzzyLanguage: $fuzzyLanguage,
    disableTimeout: $disableTimeout
  )
}
```

#### Variables

```
{
  "code": "xyz789",
  "fuzzyLanguage": "xyz789",
  "disableTimeout": true
}
```

#### Response

```
{"data": {"highlightCode": "xyz789"}}
```

### invitationByToken

#### Description
(experimental) Get invitation based on the JWT in the invitation URL

#### Response
Returns an `OrganizationInvitation`

#### Arguments

|      Name      |                    Description                    |
| -------------- | ------------------------------------------------- |
| token — String | he token that uniquely identifies the invitation. |

#### Example

#### Query

```
query invitationByToken($token: String!) {
  invitationByToken(token: $token) {
    id
    organization {
      ...OrgFragment
    }
    sender {
      ...UserFragment
    }
    recipient {
      ...UserFragment
    }
    recipientEmail
    createdAt
    notifiedAt
    respondedAt
    responseType
    respondURL
    revokedAt
    expiresAt
    isVerifiedEmail
  }
}
```

#### Variables

```
{"token": "xyz789"}
```

#### Response

```
{
  "data": {
    "invitationByToken": {
      "id": "4",
      "organization": Org,
      "sender": User,
      "recipient": User,
      "recipientEmail": "xyz789",
      "createdAt": "2007-12-03T10:15:30Z",
      "notifiedAt": "2007-12-03T10:15:30Z",
      "respondedAt": "2007-12-03T10:15:30Z",
      "responseType": "ACCEPT",
      "respondURL": "xyz789",
      "revokedAt": "2007-12-03T10:15:30Z",
      "expiresAt": "2007-12-03T10:15:30Z",
      "isVerifiedEmail": false
    }
  }
}
```

### namespace

#### Description
Look up a namespace by ID.

#### Response
Returns a `Namespace`

#### Arguments

|  Name   | Description |
| ------- | ----------- |
| id — ID |             |
|         |             |

#### Example

#### Query

```
query namespace($id: ID!) {
  namespace(id: $id) {
    id
    namespaceName
    url
  }
}
```

#### Variables

```
{"id": "4"}
```

#### Response

```
{
  "data": {
    "namespace": {
      "id": "4",
      "namespaceName": "abc123",
      "url": "abc123"
    }
  }
}
```

### namespaceByName
#### Description
Look up a namespace by name, which is a username or organization name.

#### Response
Returns a `Namespace`

#### Arguments

|     Name      |        Description         |
| ------------- | -------------------------- |
| name — String | The name of the namespace. |

#### Example
#### Query

```
query namespaceByName($name: String!) {
  namespaceByName(name: $name) {
    id
    namespaceName
    url
  }
}
```

#### Variables

```
{"name": "abc123"}
```

#### Response

```
{
  "data": {
    "namespaceByName": {
      "id": 4,
      "namespaceName": "abc123",
      "url": "xyz789"
    }
  }
}
```

### node
#### Description
Looks up a node by ID.

#### Response
Returns a `Node`

#### Arguments

|  Name   | Description |
| ------- | ----------- |
| id — ID |             |

#### Example
#### Query

```
query node($id: ID!) {
  node(id: $id) {
    id
  }
}
```


#### Variables

```
{"id": "4"}
```


#### Response

```
{"data": {"node": {"id": "4"}}}
```

### orgMembersSummary
#### Description
Get started organization summary

#### Response
Returns an `OrgMembersSummary`

#### Arguments

|       Name        |     Description      |
| ----------------- | -------------------- |
| organization — ID | The organization ID. |

#### Example
#### Query

```
query orgMembersSummary($organization: ID!) {
  orgMembersSummary(organization: $organization) {
    id
    membersCount
    invitesCount
  }
}
```

#### Variables

```
{"organization": "4"}
```

#### Response

```
{
  "data": {
    "orgMembersSummary": {
      "id": "4",
      "membersCount": 123,
      "invitesCount": 987
    }
  }
}
```

### organization
#### Description
Looks up an organization by name.

#### Response

Returns an `Org`

#### Arguments

|     Name      | Description |
| ------------- | ----------- |
| name — String |             |

#### Example
#### Query

```
query organization($name: String!) {
  organization(name: $name) {
    executorSecrets {
      ...ExecutorSecretConnectionFragment
    }
    id
    name
    displayName
    createdAt
    members {
      ...NewUsersConnectionFragment
    }
    latestSettings {
      ...SettingsFragment
    }
    settingsCascade {
      ...SettingsCascadeFragment
    }
    configurationCascade {
      ...ConfigurationCascadeFragment
    }
    viewerPendingInvitation {
      ...OrganizationInvitationFragment
    }
    viewerCanAdminister
    viewerIsMember
    url
    settingsURL
    namespaceName
  }
}
```


#### Variables

```
{"name": "abc123"}
```

#### Response

```
{
  "data": {
    "organization": {
      "executorSecrets": ExecutorSecretConnection,
      "id": 4,
      "name": "xyz789",
      "displayName": "abc123",
      "createdAt": "2007-12-03T10:15:30Z",
      "members": NewUsersConnection,
      "latestSettings": Settings,
      "settingsCascade": SettingsCascade,
      "configurationCascade": ConfigurationCascade,
      "viewerPendingInvitation": OrganizationInvitation,
      "viewerCanAdminister": false,
      "viewerIsMember": true,
      "url": "abc123",
      "settingsURL": "xyz789",
      "namespaceName": "xyz789"
    }
  }
}
```

### organizationFeatureFlagOverrides
#### Description
Retrieve all organization feature flag overrides for the current user

#### Response
Returns `FeatureFlagOverride`

#### Example
#### Query

```
query organizationFeatureFlagOverrides {
  organizationFeatureFlagOverrides {
    id
    namespace {
      ...NamespaceFragment
    }
    targetFlag {
      ... on FeatureFlagBoolean {
        ...FeatureFlagBooleanFragment
      }
      ... on FeatureFlagRollout {
        ...FeatureFlagRolloutFragment
      }
    }
    value
  }
}
```


#### Response

```
{
  "data": {
    "organizationFeatureFlagOverrides": [
      {
        "id": "4",
        "namespace": Namespace,
        "targetFlag": FeatureFlagBoolean,
        "value": true
      }
    ]
  }
}
```

### organizationFeatureFlagValue
#### Description
Retrieve the value of a feature flag for the organization

#### Response
Returns a `Boolean`

#### Arguments

|       Name        | Description |
| ----------------- | ----------- |
| orgID — ID        |             |
| flagName — String |             |

#### Example
#### Query

```
query organizationFeatureFlagValue(
  $orgID: ID!,
  $flagName: String!
) {
  organizationFeatureFlagValue(
    orgID: $orgID,
    flagName: $flagName
  )
}
```


#### Variables

```
{
  "orgID": "4",
  "flagName": "xyz789"
}
```

#### Response

```
{"data": {"organizationFeatureFlagValue": true}}
```

### organizations
#### Description
List all organizations.

#### Response
Returns an `OrgConnection`

#### Arguments

|      Name      |                            Description                             |
| -------------- | ------------------------------------------------------------------ |
| first — Int    | Returns the first n organizations from the list.                   |
| query — String | Return organizations whose names or display names match the query. |

#### Example
#### Query

```
query organizations(
  $first: Int,
  $query: String
) {
  organizations(
    first: $first,
    query: $query
  ) {
    nodes {
      ...OrgFragment
    }
    totalCount
  }
}
```


#### Variables

```
{"first": 123, "query": "xyz789"}
```

#### Response

```
{
  "data": {
    "organizations": {"nodes": [Org], "totalCount": 123}
  }
}
```

### outOfBandMigrations
#### Description
Retrieve all registered out-of-band migrations.

#### Response
Returns `OutOfBandMigration`

#### Example
#### Query

```
query outOfBandMigrations {
  outOfBandMigrations {
    id
    team
    component
    description
    introduced
    deprecated
    progress
    created
    lastUpdated
    nonDestructive
    applyReverse
    errors {
      ...OutOfBandMigrationErrorFragment
    }
  }
}
```

#### Response

```
{
  "data": {
    "outOfBandMigrations": [
      {
        "id": 4,
        "team": "xyz789",
        "component": "abc123",
        "description": "xyz789",
        "introduced": "abc123",
        "deprecated": "abc123",
        "progress": 123.45,
        "created": "2007-12-03T10:15:30Z",
        "lastUpdated": "2007-12-03T10:15:30Z",
        "nonDestructive": false,
        "applyReverse": true,
        "errors": [OutOfBandMigrationError]
      }
    ]
  }
}
```

### outboundRequests
#### Description
Get a log of the latest outbound external requests. Only available to site admins.

#### Response
Returns an `OutboundRequestConnection`

#### Arguments

|      Name      |                              Description                               |
| -------------- | ---------------------------------------------------------------------- |
| first — Int    | Returns the first n log items. If omitted then it returns all of them. |
| after — String | Opaque pagination cursor.                                              |

#### Example
#### Query

```
query outboundRequests(
  $first: Int,
  $after: String
) {
  outboundRequests(
    first: $first,
    after: $after
  ) {
    nodes {
      ...OutboundRequestFragment
    }
    totalCount
    pageInfo {
      ...PageInfoFragment
    }
  }
}
```

#### Variables

```
{"first": 123, "after": "abc123"}
```

#### Response

```
{
  "data": {
    "outboundRequests": {
      "nodes": [OutboundRequest],
      "totalCount": 987,
      "pageInfo": PageInfo
    }
  }
}
```

### packageRepoReferences
#### Description
Query package repo references.

#### Response
Returns a `PackageRepoReferenceConnection`

#### Arguments

|               Name                |                                                        Description                                                         |
| --------------------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| scheme — PackageRepoReferenceKind | The exact scheme value to filter by.                                                                                       |
| name — String                     | If supplied, only package repo references that match the given terms by their name will be returned. TODO: fuzzy vs exact? |
| first — Int                       | Returns the first n external services from the list.                                                                       |
| after — String                    | Opaque pagination cursor.                                                                                                  |

#### Example
#### Query

```
query packageRepoReferences(
  $scheme: PackageRepoReferenceKind,
  $name: String,
  $first: Int,
  $after: String
) {
  packageRepoReferences(
    scheme: $scheme,
    name: $name,
    first: $first,
    after: $after
  ) {
    nodes {
      ...PackageRepoReferenceFragment
    }
    totalCount
    pageInfo {
      ...PageInfoFragment
    }
  }
}
```

#### Variables

```
{
  "scheme": "GOMODULES",
  "name": "abc123",
  "first": 123,
  "after": "abc123"
}
```

#### Response

```
{
  "data": {
    "packageRepoReferences": {
      "nodes": [PackageRepoReference],
      "totalCount": 123,
      "pageInfo": PageInfo
    }
  }
}
```

### parseSearchQuery
#### Description
(experimental) Return the parse tree of a search query.

#### Response
Returns a `String`

#### Arguments

|      Name       |                                   Description                                    |
| --------------- | -------------------------------------------------------------------------------- |
| query           | The search query (such as "repo:myrepo foo"). Default = ""                       |
|                 | Type: String                                                                     |
| patternType     | The parser to use for this query. Default = standard                             |
|                 | Type: SearchPatternType                                                          |
| outputPhase     | The output corresponding to a phase in the parser pipeline. Default = PARSE_TREE |
|                 | Type: SearchQueryOutputPhase                                                     |
| outputFormat    | The parser output format. Default = JSON                                         |
|                 | Type: SearchQueryOutputFormat                                                    |
| outputVerbosity | The level of output format verbosity. Default = BASIC                            |
|                 | Type: SearchQueryOutputVerbosity                                                 |

#### Example
#### Query

```
query parseSearchQuery(
  $query: String,
  $patternType: SearchPatternType,
  $outputPhase: SearchQueryOutputPhase,
  $outputFormat: SearchQueryOutputFormat,
  $outputVerbosity: SearchQueryOutputVerbosity
) {
  parseSearchQuery(
    query: $query,
    patternType: $patternType,
    outputPhase: $outputPhase,
    outputFormat: $outputFormat,
    outputVerbosity: $outputVerbosity
  )
}
```

#### Variables

```
{
  "query": "",
  "patternType": "standard",
  "outputPhase": "PARSE_TREE",
  "outputFormat": "JSON",
  "outputVerbosity": "BASIC"
}
```

#### Response

```
{"data": {"parseSearchQuery": "abc123"}}
```

### pendingInvitations
#### Description
Get pending invitations for the specific organization

#### Response
Returns `OrganizationInvitation`

#### Arguments

|       Name        |     Description      |
| ----------------- | -------------------- |
| organization — ID | The organization ID. |

#### Example
#### Query

```
query pendingInvitations($organization: ID!) {
  pendingInvitations(organization: $organization) {
    id
    organization {
      ...OrgFragment
    }
    sender {
      ...UserFragment
    }
    recipient {
      ...UserFragment
    }
    recipientEmail
    createdAt
    notifiedAt
    respondedAt
    responseType
    respondURL
    revokedAt
    expiresAt
    isVerifiedEmail
  }
}
```

#### Variables

```
{"organization": "4"}
```

#### Response

```
{
  "data": {
    "pendingInvitations": [
      {
        "id": "4",
        "organization": Org,
        "sender": User,
        "recipient": User,
        "recipientEmail": "xyz789",
        "createdAt": "2007-12-03T10:15:30Z",
        "notifiedAt": "2007-12-03T10:15:30Z",
        "respondedAt": "2007-12-03T10:15:30Z",
        "responseType": "ACCEPT",
        "respondURL": "abc123",
        "revokedAt": "2007-12-03T10:15:30Z",
        "expiresAt": "2007-12-03T10:15:30Z",
        "isVerifiedEmail": false
      }
    ]
  }
}
```

### phabricatorRepo
#### escription
Looks up a Phabricator repository by name.

#### Response
Returns a `PhabricatorRepo`

#### Arguments

|     Name      |                   Description                    |
| ------------- | ------------------------------------------------ |
| name — String | The name, for example "github.com/gorilla/mux".  |
| uri — String  | An alias for name. DEPRECATED: use name instead. |

#### Example
#### Query

```
query phabricatorRepo(
  $name: String,
  $uri: String
) {
  phabricatorRepo(
    name: $name,
    uri: $uri
  ) {
    name
    uri
    callsign
    url
  }
}
```

#### Variables

```
{
  "name": "abc123",
  "uri": "abc123"
}
```

#### Response

```
{
  "data": {
    "phabricatorRepo": {
      "name": "xyz789",
      "uri": "abc123",
      "callsign": "abc123",
      "url": "xyz789"
    }
  }
}
```

### renderMarkdown
#### Description
Renders Markdown to HTML. The returned HTML is already sanitized and escaped and thus is always safe to render.

#### Response
Returns a `String`

#### Arguments

|           Name            | Description |
| ------------------------- | ----------- |
| markdown — String         |             |
| options — markdownOptions |             |

#### Example
#### Query

```
query renderMarkdown(
  $markdown: String!,
  $options: MarkdownOptions
) {
  renderMarkdown(
    markdown: $markdown,
    options: $options
  )
}
```

#### Variables

```
{
  "markdown": "xyz789",
  "options": MarkdownOptions
}
```

#### Response

```
{"data": {"renderMarkdown": "abc123"}}
```

### repositories
#### Description
List all repositories.

#### Response
Returns a `NewRepositoryConnection`

#### Arguments

|      Name       |                                              Description                                              |
| --------------- | ----------------------------------------------------------------------------------------------------- |
| first           | Returns the first n repositories from the list.                                                       |
|                 | Type: Int                                                                                             |
| last            | Returns the last n repositories from the list.                                                        |
|                 | Type: Int                                                                                             |
| query           | Return repositories whose names match the query.                                                      |
|                 | Type: String                                                                                          |
| after           | An opaque cursor that is used for pagination.                                                         |
|                 | Type: String                                                                                          |
| before          | An opaque cursor that is used for pagination.                                                         |
|                 | Type: String                                                                                          |
| names           | Return repositories whose names are in the list.                                                      |
|                 | Type: [String!]                                                                                       |
| cloned          | Include cloned repositories. Default = true                                                           |
|                 | Type: Boolean                                                                                         |
| cloneStatus     | Include only repositories of the given clone status.                                                  |
|                 | Type: CloneStatus                                                                                     |
| notCloned       | Include repositories that are not yet cloned and for which cloning is not in progress. Default = true |
|                 | Type: Boolean                                                                                         |
| indexed         | Include repositories that have a text search index. Default = true                                    |
|                 | Type: Boolean                                                                                         |
| notIndexed      | Include repositories that do not have a text search index. Default = true                             |
|                 | Type: Boolean                                                                                         |
| failedFetch     | Include only repositories that have encountered errors when cloning or fetching. Default = false      |
|                 | Type: Boolean                                                                                         |
| corrupted       | Include repositories that are corrupt. Default = false                                                |
|                 | Type: Boolean                                                                                         |
| externalService | Return repositories that are associated with the given external service.                              |
|                 | Type: ID                                                                                              |
| orderBy         | Sort field. Default = REPOSITORY_NAME                                                                 |
|                 | Type: RepositoryOrderBy                                                                               |
| descending      | Sort direction. Default = false                                                                       |
|                 | Type: Boolean                                                                                         |

#### Example
#### Query

```
query repositories(
  $first: Int,
  $last: Int,
  $query: String,
  $after: String,
  $before: String,
  $names: [String!],
  $cloned: Boolean,
  $cloneStatus: CloneStatus,
  $notCloned: Boolean,
  $indexed: Boolean,
  $notIndexed: Boolean,
  $failedFetch: Boolean,
  $corrupted: Boolean,
  $externalService: ID,
  $orderBy: RepositoryOrderBy,
  $descending: Boolean
) {
  repositories(
    first: $first,
    last: $last,
    query: $query,
    after: $after,
    before: $before,
    names: $names,
    cloned: $cloned,
    cloneStatus: $cloneStatus,
    notCloned: $notCloned,
    indexed: $indexed,
    notIndexed: $notIndexed,
    failedFetch: $failedFetch,
    corrupted: $corrupted,
    externalService: $externalService,
    orderBy: $orderBy,
    descending: $descending
  ) {
    nodes {
      ...RepositoryFragment
    }
    totalCount
    pageInfo {
      ...ConnectionPageInfoFragment
    }
  }
}
```

#### Variables

```
{
  "first": 987,
  "last": 987,
  "query": "xyz789",
  "after": "xyz789",
  "before": "xyz789",
  "names": ["abc123"],
  "cloned": true,
  "cloneStatus": "NOT_CLONED",
  "notCloned": true,
  "indexed": true,
  "notIndexed": true,
  "failedFetch": false,
  "corrupted": false,
  "externalService": 4,
  "orderBy": "REPOSITORY_NAME",
  "descending": false
}
```

#### Response

```
{
  "data": {
    "repositories": {
      "nodes": [Repository],
      "totalCount": 123,
      "pageInfo": ConnectionPageInfo
    }
  }
}
```

### repository
#### Description
Looks up a repository by either name or cloneURL.

#### Response
Returns a `Repository`

#### Arguments

|   Name   |                                                                                                                                    Description                                                                                                                                     |
| -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| name     | Query the repository by name, for example "github.com/gorilla/mux".                                                                                                                                                                                                                |
|          | Type: String                                                                                                                                                                                                                                                                       |
| cloneURL | Query the repository by a Git clone URL (format documented [here](https://git-scm.com/docs/git-clone#_git_urls_a_id_urls_a)) by checking for a code host configuration that matches the clone URL. Will not actually check the code host to see if the repository actually exists. |
|          | Type: String                                                                                                                                                                                                                                                                       |
| uri      | An alias for name. DEPRECATED: use name instead.                                                                                                                                                                                                                                   |
|          | Type: String                                                                                                                                                                                                                                                                       |

#### Example
#### Query

```
query repository(
  $name: String,
  $cloneURL: String,
  $uri: String
) {
  repository(
    name: $name,
    cloneURL: $cloneURL,
    uri: $uri
  ) {
    id
    name
    uri
    description
    language
    createdAt
    updatedAt
    commit {
      ...GitCommitFragment
    }
    firstEverCommit {
      ...GitCommitFragment
    }
    mirrorInfo {
      ...MirrorRepositoryInfoFragment
    }
    externalRepository {
      ...ExternalRepositoryFragment
    }
    isFork
    isArchived
    isPrivate
    externalServices {
      ...ExternalServiceConnectionFragment
    }
    cloneInProgress
    textSearchIndex {
      ...RepositoryTextSearchIndexFragment
    }
    url
    externalURLs {
      ...ExternalLinkFragment
    }
    defaultBranch {
      ...GitRefFragment
    }
    gitRefs {
      ...GitRefConnectionFragment
    }
    branches {
      ...GitRefConnectionFragment
    }
    tags {
      ...GitRefConnectionFragment
    }
    comparison {
      ...RepositoryComparisonFragment
    }
    contributors {
      ...RepositoryContributorConnectionFragment
    }
    viewerCanAdminister
    label {
      ...MarkdownFragment
    }
    detail {
      ...MarkdownFragment
    }
    matches {
      ...SearchResultMatchFragment
    }
    codeIntelligenceCommitGraph {
      ...CodeIntelligenceCommitGraphFragment
    }
    stars
    keyValuePairs {
      ...KeyValuePairFragment
    }
    diskSizeBytes
  }
}
```

#### Variables

```
{
  "name": "abc123",
  "cloneURL": "abc123",
  "uri": "abc123"
}
```

#### Response

```
{
  "data": {
    "repository": {
      "id": "4",
      "name": "xyz789",
      "uri": "abc123",
      "description": "abc123",
      "language": "abc123",
      "createdAt": "2007-12-03T10:15:30Z",
      "updatedAt": "2007-12-03T10:15:30Z",
      "commit": GitCommit,
      "firstEverCommit": GitCommit,
      "mirrorInfo": MirrorRepositoryInfo,
      "externalRepository": ExternalRepository,
      "isFork": true,
      "isArchived": true,
      "isPrivate": true,
      "externalServices": ExternalServiceConnection,
      "cloneInProgress": true,
      "textSearchIndex": RepositoryTextSearchIndex,
      "url": "abc123",
      "externalURLs": [ExternalLink],
      "defaultBranch": GitRef,
      "gitRefs": GitRefConnection,
      "branches": GitRefConnection,
      "tags": GitRefConnection,
      "comparison": RepositoryComparison,
      "contributors": RepositoryContributorConnection,
      "viewerCanAdminister": true,
      "label": Markdown,
      "detail": Markdown,
      "matches": [SearchResultMatch],
      "codeIntelligenceCommitGraph": CodeIntelligenceCommitGraph,
      "stars": 987,
      "keyValuePairs": [KeyValuePair],
      "diskSizeBytes": {}
    }
  }
}
```

### repositoryRedirect
#### Description
Looks up a repository by either name or cloneURL or hashedName. When the repository does not exist on the server and "disablePublicRepoRedirects" is "false" in the site configuration, it returns a Redirect to an external Sourcegraph URL that may have this repository instead. Otherwise, this query returns null.

#### Response
Returns a `RepositoryRedirect`

#### Arguments

|    Name    |                                                                                                                                    Description                                                                                                                                     |
| ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| name       | Query the repository by name, for example "github.com/gorilla/mux".                                                                                                                                                                                                                |
|            | Type: String                                                                                                                                                                                                                                                                       |
| cloneURL   | Query the repository by a Git clone URL (format documented [here](https://git-scm.com/docs/git-clone#_git_urls_a_id_urls_a)) by checking for a code host configuration that matches the clone URL. Will not actually check the code host to see if the repository actually exists. |
|            | Type: String                                                                                                                                                                                                                                                                       |
| hashedName | Query the repository by hashed name. Hashed name is a SHA256 checksum of the absolute repo name in lower case, for example "github.com/sourcegraph/sourcegraph" -> "a6c905ceb7dec9a565945ceded8c7fa4154250df8b928fb40673b535d9a24c2f"                                              |
|            | Type: String                                                                                                                                                                                                                                                                       |

#### Example
#### Query

```
query repositoryRedirect(
  $name: String,
  $cloneURL: String,
  $hashedName: String
) {
  repositoryRedirect(
    name: $name,
    cloneURL: $cloneURL,
    hashedName: $hashedName
  ) {
    ... on Repository {
      ...RepositoryFragment
    }
    ... on Redirect {
      ...RedirectFragment
    }
  }
}
```

#### Variables

```
{
  "name": "abc123",
  "cloneURL": "abc123",
  "hashedName": "abc123"
}
```

#### Response

```
{"data": {"repositoryRedirect": Repository}}
```

### repositoryStats
#### Description
FOR INTERNAL USE ONLY: Query repository statistics for the site.

#### Response
Returns a `RepositoryStats`

#### Example
#### Query

```
query repositoryStats {
  repositoryStats {
    gitDirBytes
    indexedLinesCount
    total
    cloned
    cloning
    notCloned
    failedFetch
    indexed
    corrupted
  }
}
```

#### Response

```
{
  "data": {
    "repositoryStats": {
      "gitDirBytes": {},
      "indexedLinesCount": {},
      "total": 987,
      "cloned": 987,
      "cloning": 987,
      "notCloned": 987,
      "failedFetch": 123,
      "indexed": 987,
      "corrupted": 123
    }
  }
}
```

### root

this will be removed.

#### Description
The root of the query.

#### Response
Returns a `Query`

#### Example
#### Query

```
query root {
  root {
    root {
      ...QueryFragment
    }
    node {
      ...NodeFragment
    }
    repository {
      ...RepositoryFragment
    }
    repositoryRedirect {
      ... on Repository {
        ...RepositoryFragment
      }
      ... on Redirect {
        ...RedirectFragment
      }
    }
    externalServices {
      ...ExternalServiceConnectionFragment
    }
    externalServiceNamespaces {
      ...ExternalServiceNamespaceConnectionFragment
    }
    repositories {
      ...NewRepositoryConnectionFragment
    }
    packageRepoReferences {
      ...PackageRepoReferenceConnectionFragment
    }
    phabricatorRepo {
      ...PhabricatorRepoFragment
    }
    currentUser {
      ...UserFragment
    }
    user {
      ...UserFragment
    }
    users {
      ...UserConnectionFragment
    }
    organization {
      ...OrgFragment
    }
    organizations {
      ...OrgConnectionFragment
    }
    renderMarkdown
    highlightCode
    settingsSubject {
      ...SettingsSubjectFragment
    }
    viewerSettings {
      ...SettingsCascadeFragment
    }
    viewerConfiguration {
      ...ConfigurationCascadeFragment
    }
    clientConfiguration {
      ...ClientConfigurationDetailsFragment
    }
    search {
      ...SearchFragment
    }
    savedSearches {
      ...SavedSearchesConnectionFragment
    }
    parseSearchQuery
    site {
      ...SiteFragment
    }
    surveyResponses {
      ...SurveyResponseConnectionFragment
    }
    extensionRegistry {
      ...ExtensionRegistryFragment
    }
    statusMessages {
      ... on GitUpdatesDisabled {
        ...GitUpdatesDisabledFragment
      }
      ... on CloningProgress {
        ...CloningProgressFragment
      }
      ... on ExternalServiceSyncError {
        ...ExternalServiceSyncErrorFragment
      }
      ... on SyncError {
        ...SyncErrorFragment
      }
      ... on IndexingProgress {
        ...IndexingProgressFragment
      }
    }
    repositoryStats {
      ...RepositoryStatsFragment
    }
    namespace {
      ...NamespaceFragment
    }
    namespaceByName {
      ...NamespaceFragment
    }
    codeHostSyncDue
    outOfBandMigrations {
      ...OutOfBandMigrationFragment
    }
    featureFlags {
      ... on FeatureFlagBoolean {
        ...FeatureFlagBooleanFragment
      }
      ... on FeatureFlagRollout {
        ...FeatureFlagRolloutFragment
      }
    }
    featureFlag {
      ... on FeatureFlagBoolean {
        ...FeatureFlagBooleanFragment
      }
      ... on FeatureFlagRollout {
        ...FeatureFlagRolloutFragment
      }
    }
    evaluateFeatureFlag
    evaluatedFeatureFlags {
      ...EvaluatedFeatureFlagFragment
    }
    organizationFeatureFlagValue
    organizationFeatureFlagOverrides {
      ...FeatureFlagOverrideFragment
    }
    temporarySettings {
      ...TemporarySettingsFragment
    }
    webhookLogs {
      ...WebhookLogConnectionFragment
    }
    outboundRequests {
      ...OutboundRequestConnectionFragment
    }
    backgroundJobs {
      ...BackgroundJobConnectionFragment
    }
    invitationByToken {
      ...OrganizationInvitationFragment
    }
    pendingInvitations {
      ...OrganizationInvitationFragment
    }
    autocompleteMembersSearch {
      ...AutocompleteMemberSearchItemFragment
    }
    orgMembersSummary {
      ...OrgMembersSummaryFragment
    }
    webhooks {
      ...WebhookConnectionFragment
    }
    slowRequests {
      ...SlowRequestConnectionFragment
    }
    executorSecrets {
      ...ExecutorSecretConnectionFragment
    }
    executors {
      ...ExecutorConnectionFragment
    }
    areExecutorsConfigured
    team {
      ...TeamFragment
    }
    teams {
      ...TeamConnectionFragment
    }
  }
}
```

#### Response

```
{
  "data": {
    "root": {
      "root": Query,
      "node": Node,
      "repository": Repository,
      "repositoryRedirect": Repository,
      "externalServices": ExternalServiceConnection,
      "externalServiceNamespaces": ExternalServiceNamespaceConnection,
      "repositories": NewRepositoryConnection,
      "packageRepoReferences": PackageRepoReferenceConnection,
      "phabricatorRepo": PhabricatorRepo,
      "currentUser": User,
      "user": User,
      "users": UserConnection,
      "organization": Org,
      "organizations": OrgConnection,
      "renderMarkdown": "xyz789",
      "highlightCode": "xyz789",
      "settingsSubject": SettingsSubject,
      "viewerSettings": SettingsCascade,
      "viewerConfiguration": ConfigurationCascade,
      "clientConfiguration": ClientConfigurationDetails,
      "search": Search,
      "savedSearches": SavedSearchesConnection,
      "parseSearchQuery": "xyz789",
      "site": Site,
      "surveyResponses": SurveyResponseConnection,
      "extensionRegistry": ExtensionRegistry,
      "statusMessages": [GitUpdatesDisabled],
      "repositoryStats": RepositoryStats,
      "namespace": Namespace,
      "namespaceByName": Namespace,
      "codeHostSyncDue": true,
      "outOfBandMigrations": [OutOfBandMigration],
      "featureFlags": [FeatureFlagBoolean],
      "featureFlag": FeatureFlagBoolean,
      "evaluateFeatureFlag": true,
      "evaluatedFeatureFlags": [EvaluatedFeatureFlag],
      "organizationFeatureFlagValue": true,
      "organizationFeatureFlagOverrides": [
        FeatureFlagOverride
      ],
      "temporarySettings": TemporarySettings,
      "webhookLogs": WebhookLogConnection,
      "outboundRequests": OutboundRequestConnection,
      "backgroundJobs": BackgroundJobConnection,
      "invitationByToken": OrganizationInvitation,
      "pendingInvitations": [OrganizationInvitation],
      "autocompleteMembersSearch": [
        AutocompleteMemberSearchItem
      ],
      "orgMembersSummary": OrgMembersSummary,
      "webhooks": WebhookConnection,
      "slowRequests": SlowRequestConnection,
      "executorSecrets": ExecutorSecretConnection,
      "executors": ExecutorConnection,
      "areExecutorsConfigured": false,
      "team": Team,
      "teams": TeamConnection
    }
  }
}
```

### savedSearches
#### Description
List of saved searches based on namespace

#### Response
Returns a `SavedSearchesConnection`

#### Arguments

|   Name    |                  Description                  |
| --------- | --------------------------------------------- |
| namespace | The namespace to list the saved searches for. |
|           | Type: ID (non-nullable)                       |
| first     | The limit argument for forward pagination.    |
|           | Type: Int                                     |
| last      | The limit argument for backward pagination.   |
|           | Type: Int                                     |
| after     | The cursor argument for forward pagination.   |
|           | Type: String                                  |
| before    | The cursor argument for backward pagination.  |
|           | Type: String                                  |

#### Example
#### Query

```
query savedSearches(
  $namespace: ID!,
  $first: Int,
  $last: Int,
  $after: String,
  $before: String
) {
  savedSearches(
    namespace: $namespace,
    first: $first,
    last: $last,
    after: $after,
    before: $before
  ) {
    nodes {
      ...SavedSearchFragment
    }
    totalCount
    pageInfo {
      ...ConnectionPageInfoFragment
    }
  }
}
```
#### Variables

```
{
  "namespace": 4,
  "first": 123,
  "last": 123,
  "after": "abc123",
  "before": "xyz789"
}
```

#### Response

```
{
  "data": {
    "savedSearches": {
      "nodes": [SavedSearch],
      "totalCount": 987,
      "pageInfo": ConnectionPageInfo
    }
  }
}
```

### search
#### Description
Runs a search.

#### Response
Returns a `Search`

#### Arguments

|    Name     |                                                            Description                                                             |
| ----------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| version     | The version of the search syntax being used. All new clients should use the latest version. Default = V1                           |
|             | Type: SearchVersion                                                                                                                |
| patternType | PatternType controls the search pattern type, if and only if it is not specified in the query string using the patternType: field. |
|             | Type: SearchPatternType                                                                                                            |
| query       | The search query (such as "foo" or "repo:myrepo foo"). Default = ""                                                                |
|             | Type: String                                                                                                                       |

#### Example
#### Query

```
query search(
  $version: SearchVersion,
  $patternType: SearchPatternType,
  $query: String
) {
  search(
    version: $version,
    patternType: $patternType,
    query: $query
  ) {
    results {
      ...SearchResultsFragment
    }
    stats {
      ...SearchResultsStatsFragment
    }
  }
}
```
#### Variables

```
{"version": "V1", "patternType": "standard", "query": ""}
```

#### Response

```
{
  "data": {
    "search": {
      "results": SearchResults,
      "stats": SearchResultsStats
    }
  }
}
```

### settingsSubject
#### Description
Looks up an instance of a type that implements SettingsSubject (i.e., something that has settings). This can be a site (which has global settings), an organization, or a user.

#### Response
Returns a `SettingsSubject`

#### Arguments

|  Name   | Description |
| ------- | ----------- |
| id — ID |             |

#### Example
#### Query

```
query settingsSubject($id: ID!) {
  settingsSubject(id: $id) {
    id
    latestSettings {
      ...SettingsFragment
    }
    settingsURL
    viewerCanAdminister
    settingsCascade {
      ...SettingsCascadeFragment
    }
    configurationCascade {
      ...ConfigurationCascadeFragment
    }
  }
}
```

#### Variables

```
{"id": "4"}
```
#### Response

```
{
  "data": {
    "settingsSubject": {
      "id": 4,
      "latestSettings": Settings,
      "settingsURL": "abc123",
      "viewerCanAdminister": false,
      "settingsCascade": SettingsCascade,
      "configurationCascade": ConfigurationCascade
    }
  }
}
```

### site
#### Description
The current site.

#### Response
Returns a `Site`

#### Example
#### Query

```
query site {
  site {
    id
    siteID
    configuration {
      ...SiteConfigurationFragment
    }
    latestSettings {
      ...SettingsFragment
    }
    settingsCascade {
      ...SettingsCascadeFragment
    }
    configurationCascade {
      ...ConfigurationCascadeFragment
    }
    settingsURL
    canReloadSite
    viewerCanAdminister
    accessTokens {
      ...AccessTokenConnectionFragment
    }
    authProviders {
      ...AuthProviderConnectionFragment
    }
    externalAccounts {
      ...ExternalAccountConnectionFragment
    }
    buildVersion
    productVersion
    updateCheck {
      ...UpdateCheckFragment
    }
    needsRepositoryConfiguration
    externalServicesFromFile
    allowEditExternalServicesWithFile
    freeUsersExceeded
    alerts {
      ...AlertFragment
    }
    hasCodeIntelligence
    sendsEmailVerificationEmails
    productSubscription {
      ...ProductSubscriptionStatusFragment
    }
    usageStatistics {
      ...SiteUsageStatisticsFragment
    }
    analytics {
      ...AnalyticsFragment
    }
    users {
      ...SiteUsersFragment
    }
    monitoringStatistics {
      ...MonitoringStatisticsFragment
    }
    allowSiteSettingsEdits
    enableLegacyExtensions
    upgradeReadiness {
      ...UpgradeReadinessFragment
    }
  }
}
```

#### Response

```
{
  "data": {
    "site": {
      "id": 4,
      "siteID": "abc123",
      "configuration": SiteConfiguration,
      "latestSettings": Settings,
      "settingsCascade": SettingsCascade,
      "configurationCascade": ConfigurationCascade,
      "settingsURL": "abc123",
      "canReloadSite": true,
      "viewerCanAdminister": false,
      "accessTokens": AccessTokenConnection,
      "authProviders": AuthProviderConnection,
      "externalAccounts": ExternalAccountConnection,
      "buildVersion": "xyz789",
      "productVersion": "abc123",
      "updateCheck": UpdateCheck,
      "needsRepositoryConfiguration": true,
      "externalServicesFromFile": false,
      "allowEditExternalServicesWithFile": true,
      "freeUsersExceeded": true,
      "alerts": [Alert],
      "hasCodeIntelligence": false,
      "sendsEmailVerificationEmails": true,
      "productSubscription": ProductSubscriptionStatus,
      "usageStatistics": SiteUsageStatistics,
      "analytics": Analytics,
      "users": SiteUsers,
      "monitoringStatistics": MonitoringStatistics,
      "allowSiteSettingsEdits": true,
      "enableLegacyExtensions": false,
      "upgradeReadiness": UpgradeReadiness
    }
  }
}
```

### slowRequests
#### Description
List slow GraphQL requests that were recently captured (requires site-admin permissions).

#### Response
Returns a `SlowRequestConnection`

#### Arguments

|      Name      |        Description         |
| -------------- | -------------------------- |
| after — String | Opaque pagnination cursor. |

#### Example
#### Query

```
query slowRequests($after: String) {
  slowRequests(after: $after) {
    nodes {
      ...SlowRequestFragment
    }
    totalCount
    pageInfo {
      ...PageInfoFragment
    }
  }
}
```

#### Variables

```
{"after": "abc123"}
```

#### Response

```
{
  "data": {
    "slowRequests": {
      "nodes": [SlowRequest],
      "totalCount": 123,
      "pageInfo": PageInfo
    }
  }
}
```

### statusMessages
#### Description
FOR INTERNAL USE ONLY: Lists all status messages

#### Response
Returns `StatusMessage`

#### Example
#### Query

```
query statusMessages {
  statusMessages {
    ... on GitUpdatesDisabled {
      ...GitUpdatesDisabledFragment
    }
    ... on CloningProgress {
      ...CloningProgressFragment
    }
    ... on ExternalServiceSyncError {
      ...ExternalServiceSyncErrorFragment
    }
    ... on SyncError {
      ...SyncErrorFragment
    }
    ... on IndexingProgress {
      ...IndexingProgressFragment
    }
  }
}
```

#### Response

```
{"data": {"statusMessages": [GitUpdatesDisabled]}}
```

### surveyResponses
#### Description
Retrieve responses to surveys.

#### Response
Returns a `SurveyResponseConnection`

#### Arguments

|    Name     |                     Description                     |
| ----------- | --------------------------------------------------- |
| first — Int | Returns the first n survey responses from the list. |

#### Example
#### Query

```
query surveyResponses($first: Int) {
  surveyResponses(first: $first) {
    nodes {
      ...SurveyResponseFragment
    }
    totalCount
    last30DaysCount
    averageScore
    netPromoterScore
  }
}
```

#### Variables

```
{"first": 123}
```

#### Response

```
{
  "data": {
    "surveyResponses": {
      "nodes": [SurveyResponse],
      "totalCount": 123,
      "last30DaysCount": 987,
      "averageScore": 987.65,
      "netPromoterScore": 123
    }
  }
}
```

### team
#### Description
Get a single team by name. Returns null if not found.

#### Response
Returns a `Team`

#### Arguments

|     Name      | Description |
| ------------- | ----------- |
| name — String |             |

#### Example
#### Query

```
query team($name: String!) {
  team(name: $name) {
    id
    name
    url
    displayName
    readonly
    members {
      ...TeamMemberConnectionFragment
    }
    parentTeam {
      ...TeamFragment
    }
    childTeams {
      ...TeamConnectionFragment
    }
    viewerCanAdminister
  }
}
```

#### Variables

```
{"name": "xyz789"}
```

#### Response

```
{
  "data": {
    "team": {
      "id": "4",
      "name": "abc123",
      "url": "xyz789",
      "displayName": "abc123",
      "readonly": false,
      "members": TeamMemberConnection,
      "parentTeam": Team,
      "childTeams": TeamConnection,
      "viewerCanAdminister": false
    }
  }
}
```

### teams
#### Description
Get the global list of all root teams. (Those without a parent team).

#### Response
Returns a `TeamConnection`

#### Arguments

|  Name  |                         Description                         |
| ------ | ----------------------------------------------------------- |
| first  | Returns the first n teams from the list.                    |
|        | Type: Int                                                   |
| after  | Opaque pagination cursor.                                   |
|        | Type: String                                                |
| search | Search can be used to do a text-search over the team names. |
|        | Type: String                                                |

#### Example
#### Query

```
query teams(
  $first: Int,
  $after: String,
  $search: String
) {
  teams(
    first: $first,
    after: $after,
    search: $search
  ) {
    totalCount
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...TeamFragment
    }
  }
}
```

#### Variables

```
{
  "first": 123,
  "after": "abc123",
  "search": "abc123"
}
```

#### Response

```
{
  "data": {
    "teams": {
      "totalCount": 123,
      "pageInfo": PageInfo,
      "nodes": [Team]
    }
  }
}
```

### temporarySettings
#### Description
Retrieves the temporary settings for the current user.

#### Response
Returns a `TemporarySettings`

#### Example
#### Query

```
query temporarySettings {
  temporarySettings {
    contents
  }
}
```

#### Response

```
{
  "data": {
    "temporarySettings": {
      "contents": "xyz789"
    }
  }
}
```

### user
#### Description
Looks up a user by username or email address.

#### Response
Returns a `User`

#### Arguments

|   Name   |                Description                |
| -------- | ----------------------------------------- |
| username | Query the user by username.               |
|          | Type: String                              |
| email    | Query the user by verified email address. |
|          | Type: String                              |

#### Example
#### Query

```
query user(
  $username: String,
  $email: String
) {
  user(
    username: $username,
    email: $email
  ) {
    executorSecrets {
      ...ExecutorSecretConnectionFragment
    }
    id
    username
    email
    displayName
    avatarURL
    url
    settingsURL
    createdAt
    updatedAt
    siteAdmin
    builtinAuth
    latestSettings {
      ...SettingsFragment
    }
    settingsCascade {
      ...SettingsCascadeFragment
    }
    configurationCascade {
      ...ConfigurationCascadeFragment
    }
    organizations {
      ...OrgConnectionFragment
    }
    organizationMemberships {
      ...OrganizationMembershipConnectionFragment
    }
    tags
    tosAccepted
    searchable
    usageStatistics {
      ...UserUsageStatisticsFragment
    }
    eventLogs {
      ...EventLogsConnectionFragment
    }
    emails {
      ...UserEmailFragment
    }
    accessTokens {
      ...AccessTokenConnectionFragment
    }
    externalAccounts {
      ...ExternalAccountConnectionFragment
    }
    session {
      ...SessionFragment
    }
    viewerCanAdminister
    viewerCanChangeUsername
    surveyResponses {
      ...SurveyResponseFragment
    }
    databaseID
    namespaceName
    invitableCollaborators {
      ...PersonFragment
    }
    teams {
      ...TeamConnectionFragment
    }
  }
}
```

#### Variables

```
{
  "username": "xyz789",
  "email": "xyz789"
}
```

#### Response

```
{
  "data": {
    "user": {
      "executorSecrets": ExecutorSecretConnection,
      "id": 4,
      "username": "abc123",
      "email": "xyz789",
      "displayName": "abc123",
      "avatarURL": "abc123",
      "url": "abc123",
      "settingsURL": "xyz789",
      "createdAt": "2007-12-03T10:15:30Z",
      "updatedAt": "2007-12-03T10:15:30Z",
      "siteAdmin": false,
      "builtinAuth": false,
      "latestSettings": Settings,
      "settingsCascade": SettingsCascade,
      "configurationCascade": ConfigurationCascade,
      "organizations": OrgConnection,
      "organizationMemberships": OrganizationMembershipConnection,
      "tags": ["xyz789"],
      "tosAccepted": true,
      "searchable": false,
      "usageStatistics": UserUsageStatistics,
      "eventLogs": EventLogsConnection,
      "emails": [UserEmail],
      "accessTokens": AccessTokenConnection,
      "externalAccounts": ExternalAccountConnection,
      "session": Session,
      "viewerCanAdminister": true,
      "viewerCanChangeUsername": true,
      "surveyResponses": [SurveyResponse],
      "databaseID": 987,
      "namespaceName": "abc123",
      "invitableCollaborators": [Person],
      "teams": TeamConnection
    }
  }
}
```

### users
#### Description
List all users.

#### Response
Returns a `UserConnection`!

#### Arguments

|     Name      |                             Description                             |
| ------------- | ------------------------------------------------------------------- |
| first         | Returns the first n users from the list.                            |
|               | Type: Int                                                           |
| after         | Opaque pagination cursor.                                           |
|               | Type: String                                                        |
| query         | Return users whose usernames or display names match the query.      |
|               | Type: String                                                        |
| tag           | Return only users with the given tag.                               |
|               | Type: String                                                        |
| activePeriod  | Returns users who have been active in a given period of time.       |
|               | Type: UserActivePeriod                                              |
| inactiveSince | Returns users who have NOT been active since a given point in time. |
|               | Type: DateTime                                                      |

#### Example
#### Query

```
query users(
  $first: Int,
  $after: String,
  $query: String,
  $tag: String,
  $activePeriod: UserActivePeriod,
  $inactiveSince: DateTime
) {
  users(
    first: $first,
    after: $after,
    query: $query,
    tag: $tag,
    activePeriod: $activePeriod,
    inactiveSince: $inactiveSince
  ) {
    nodes {
      ...UserFragment
    }
    totalCount
    pageInfo {
      ...PageInfoFragment
    }
  }
}
```

#### Variables

```
{
  "first": 987,
  "after": "abc123",
  "query": "xyz789",
  "tag": "xyz789",
  "activePeriod": "TODAY",
  "inactiveSince": "2007-12-03T10:15:30Z"
}
```

#### Response

```
{
  "data": {
    "users": {
      "nodes": [User],
      "totalCount": 987,
      "pageInfo": PageInfo
    }
  }
}
```

### viewerConfiguration
use viewerSettings instead
#### Description
DEPRECATED

#### Response
Returns a `ConfigurationCascade`!

#### Example
#### Query

```
query viewerConfiguration {
  viewerConfiguration {
    subjects {
      ...SettingsSubjectFragment
    }
    merged {
      ...ConfigurationFragment
    }
  }
}
```

#### Response

```
{
  "data": {
    "viewerConfiguration": {
      "subjects": [SettingsSubject],
      "merged": Configuration
    }
  }
}
```
### viewerSettings
#### Description
The settings for the viewer. The viewer is either an anonymous visitor (in which case viewer settings is global settings) or an authenticated user (in which case viewer settings are the user's settings).

#### Response
Returns a `SettingsCascade`!

#### Example
#### Query

```
query viewerSettings {
  viewerSettings {
    subjects {
      ...SettingsSubjectFragment
    }
    final
    merged {
      ...ConfigurationFragment
    }
  }
}
```

#### Response

```
{
  "data": {
    "viewerSettings": {
      "subjects": [SettingsSubject],
      "final": "xyz789",
      "merged": Configuration
    }
  }
}
```

### webhookLogs
### Description
Returns recently received webhooks across all external services, optionally limiting the returned values to only those that didn't match any external service.

Only site admins can access this field.

### Response
Returns a `WebhookLogConnection`

#### Arguments

|     Name      |                               Description                               |
| ------------- | ----------------------------------------------------------------------- |
| first         | Returns the first n webhook logs.                                       |
|               | Type: Int                                                               |
| after         | Opaque pagination cursor.                                               |
|               | Type: String                                                            |
| onlyErrors    | Only include webhook logs that resulted in errors.                      |
|               | Type: Boolean                                                           |
| onlyUnmatched | Only include webhook logs that were not matched to an external service. |
|               | Type: Boolean                                                           |
| since         | Only include webhook logs on or after this time.                        |
|               | Type: DateTime                                                          |
| until         | Only include webhook logs on or before this time.                       |
|               | Type: DateTime                                                          |
| webhookID     | Only include webhook logs of given webhook ID.                          |
|               | Type: ID                                                                |
| legacyOnly    | Only include webhook logs that have no webhook ID set.                  |
|               | Type: Boolean                                                           |

#### Example
#### Query

```
query webhookLogs(
  $first: Int,
  $after: String,
  $onlyErrors: Boolean,
  $onlyUnmatched: Boolean,
  $since: DateTime,
  $until: DateTime,
  $webhookID: ID,
  $legacyOnly: Boolean
) {
  webhookLogs(
    first: $first,
    after: $after,
    onlyErrors: $onlyErrors,
    onlyUnmatched: $onlyUnmatched,
    since: $since,
    until: $until,
    webhookID: $webhookID,
    legacyOnly: $legacyOnly
  ) {
    nodes {
      ...WebhookLogFragment
    }
    totalCount
    pageInfo {
      ...PageInfoFragment
    }
  }
}
```

#### Variables

```
{
  "first": 123,
  "after": "abc123",
  "onlyErrors": false,
  "onlyUnmatched": false,
  "since": "2007-12-03T10:15:30Z",
  "until": "2007-12-03T10:15:30Z",
  "webhookID": "4",
  "legacyOnly": true
}
```

#### Response

```
{
  "data": {
    "webhookLogs": {
      "nodes": [WebhookLog],
      "totalCount": 123,
      "pageInfo": PageInfo
    }
  }
}
```

### webhooks
#### Description
Lists webhooks. Only available to site admins. If no kind is given, it returns all webhooks. If first is omitted, 20 items are returned

#### Response
Returns a `WebhookConnection`

#### Arguments

| Name   | Description                                              |
|--------|----------------------------------------------------------|
| first  | Returns the first n webhooks from the list.              |
|        | Type: Int                                                 |
| after  | Opaque pagination cursor.                                |
|        | Type: String                                              |
| kind   | Optionally filter by kind.                               |
|        | Type: ExternalServiceKind                                |

#### Example
#### Query

```
query webhooks(
  $first: Int,
  $after: String,
  $kind: ExternalServiceKind
) {
  webhooks(
    first: $first,
    after: $after,
    kind: $kind
  ) {
    nodes {
      ...WebhookFragment
    }
    totalCount
    pageInfo {
      ...PageInfoFragment
    }
  }
}
```

#### Variables

```
{
  "first": 123,
  "after": "abc123",
  "kind": "AWSCODECOMMIT"
}
```

#### Response

```
{
  "data": {
    "webhooks": {
      "nodes": [Webhook],
      "totalCount": 987,
      "pageInfo": PageInfo
    }
  }
}
```
