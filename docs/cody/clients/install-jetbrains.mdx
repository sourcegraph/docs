# Install Cody for JetBrains

<p className="subtitle">Learn how to use Cody and its features with the JetBrains IntelliJ editor.</p>

<Callout type="note" title="Beta">
Cody support for the JetBrains editor extension is in the Beta stage.
</Callout>

The Cody extension by Sourcegraph enhances your coding experience in your IDE by providing intelligent code suggestions, context-aware completions, and advanced code analysis. This guide will walk you through the steps to install and set up Cody within your JetBrains environment.

<LinkCards>
   <LinkCard href="https://plugins.jetbrains.com/plugin/9682-cody-ai-by-sourcegraph" imgSrc="https://storage.googleapis.com/sourcegraph-assets/docs/images/cody/jb_beam.svg" imgAlt="Cody for JetBrains" title="JetBrains Extension (Beta)" description="Install Cody's free extension for JetBrains." />
</LinkCards>

## Prerequisites

- You have the latest version of <a href="https://www.jetbrains.com/idea/" target="_blank">JetBrains IDEs</a> installed
- You have a Free or Pro account via Sourcegraph.com or a Sourcegraph Enterprise account
- Cody is compatible with the following JetBrains IDEs:
  - [Android Studio](https://developer.android.com/studio)
  - [AppCode](https://www.jetbrains.com/objc/)
  - [CLion](https://www.jetbrains.com/clion/)
  - [DataGrip](https://www.jetbrains.com/datagrip/)
  - [GoLand](https://www.jetbrains.com/go/)
  - [IntelliJ IDEA](https://www.jetbrains.com/idea/) (Community and Ultimate editions)
  - [PhpStorm](https://www.jetbrains.com/phpstorm/)
  - [PyCharm](https://www.jetbrains.com/pycharm/) (Community and Professional editions)
  - [Rider](https://www.jetbrains.com/rider/)
  - [RubyMine](https://www.jetbrains.com/ruby/)
  - [WebStorm](https://www.jetbrains.com/webstorm/)

## Install the JetBrains IntelliJ Cody extension

Follow these steps to install the Cody plugin:

- Open JetBrains IntelliJ editor on your local machine
- Open **Settings** (Mac: `⌘+,` Windows: `Ctrl+Alt+S`) and select **Plugins**
- Type and search **Sourcegraph Cody + Code Search** extension and click **Install**

![cody-for-intellij](https://storage.googleapis.com/sourcegraph-assets/Docs/Media/cody-for-intellij.png)

Alternatively, you can [Download and install the extension from the Jetbrains marketplace](https://plugins.jetbrains.com/plugin/9682-sourcegraph).

## Connect the extension to Sourcegraph

After a successful installation, Cody's icon appears in the sidebar. Clicking it prompts you to start with codehosts like GitHub, GitLab, and your Google login. This allows Cody to access your Sourcegraph.com account.

Alternatively, you can also click the **Sign in with an Enterprise Instance** to connect to your enterprise instance.

![cody-for-intellij-login](https://storage.googleapis.com/sourcegraph-assets/Docs/Media/sign-in-cody-jb.png)

### For Sourcegraph Enterprise users

To connect the extension with your Enterprise instance,

- Click **Sign in with an Enterprise Instance**
- Enter the server for your enterprise instance (e.g. `https://<your-instance>.sourcegraph.com`)
- Select **Generate new token**. You'll be directed to the **Access tokens** page on your instance in the browser
- Generate a new token, copy it, and paste it into the **Token** field in your editor
- Click **Sign in**

### For Sourcegraph.com users

For Cody Free and Cody Pro users, you can Log in through SSO to authenticate the IntelliJ extension with your Sourcegraph.com account.

## Verifying the installation

Once Cody is successfully connected, you'll see that the sign-in panel has been replaced by a welcome message from Cody. Let's create an autocomplete suggestion to verify that the Cody extension has been successfully installed and is working as expected.

Cody provides intelligent code suggestions and context-aware autocompletions for numerous programming languages like JavaScript, Python, TypeScript, Go, etc.

- Create a new file in IntelliJ, for example, `code.js`
- Next, type the following algorithm function to sort an array of numbers

```js
function bubbleSort(array)
```

- As you start typing, Cody will automatically provide suggestions and context-aware completions based on your coding patterns and the code context
- These autocomplete suggestions appear as grayed text. To accept the suggestion, press the `Tab` key

<video width="1920" height="1080" loop playsInline controls style={{ width: '100%', height: 'auto' }}>
  <source src="https://storage.googleapis.com/sourcegraph-assets/Docs/Media/jb-first-suggestion.mp4" type="video/mp4"/>
</video>

## Autocomplete

Autocomplete suggestions appear as inlay suggestions and are enabled by default in your JetBrains IntelliJ editor. With this setting, there is a list of programming languages supported and enabled by default.

To manually configure the Autocomplete feature,

- Go to the **Cody Settings...** from the Cody icon in the sidebar
- Next, click the **Sourcegraph & Cody** dropdown and select **Cody**
- The **Autocomplete** settings will appear with the list of **Enabled Languages**

In addition, Autocomplete suggestions use the same color as inline parameter hints according to your configured editor theme. However, you can optionally enable the **Custom color for completions** checkbox to customize the color of your choice.

## Commands

Cody with JetBrains offers quick, ready-to-use Commands for common actions to write, describe, fix, and smell code. These allow you to run predefined actions with smart context-fetching anywhere in the editor.

These are broadly categorized into the Edit Commands and Chat Commands.

- **Edit Code** (Beta): Makes inline code edits. You also get the option to select LLM for edit suggestions
- **Document Code** (Beta): Create inline documentation for your code
- **Generate Unit Test** (Beta): Creates inline unit tests for your code-
- **Smell Code**: Finds code smells in your file
- **Explain Code**: Expains code for your file

![jetbrains-commands](https://storage.googleapis.com/sourcegraph-assets/Docs/jb-command-layout.png)

Let's learn about how to use some of these commands:

### Inline code edits

You can make edits to your code directly in your file without opening the chat window. The **Edit Code** command generates a prompt that makes direct code edits, refactors, or bug fixes.

You can run the inline edit command either on the selected code snippet or the entire file. To do so, press `Shift + Ctrl + Enter`. This opens a floating editor where you can describe the change you want to make.

Once you enter your prompt, Cody will perform inline edits that you can **Accept**, **Undo**, or **Show diff** for the change. You can also click **Retry** to iterate your prompt and get alternate suggestions.

<video width="1920" height="1080" loop playsInline controls style={{ width: '100%', height: 'auto' }}>
  <source src="https://storage.googleapis.com/sourcegraph-assets/Docs/Media/inline-code-edits.mp4" type="video/mp4"/>
</video>

### Inline unit tests

The Generate Unit Test command uses the code edit functionality to create unit tests. To generate unit tests for your code, type `Shift + Ctrl + T` or click the **Generate Unit Test** command in the Cody sidebar.

When you run this command, it performs the following actions:

- Check if you’re using a test framework
- Check if you already have a test file created
- Insert new unit tests directly in the existing test file or create a new file if none exists

<video width="1920" height="1080" loop playsInline controls style={{ width: '100%', height: 'auto' }}>
  <source src="https://storage.googleapis.com/sourcegraph-assets/Docs/Media/inline-unit-tests.mp4" type="video/mp4"/>
</video>

Alternatively, you can **Accept**, **Undo**, or **Show diff** for the change. You can also click **Retry** to iterate your prompt and get alternate suggestions.

### Document your code

Like the Edit Code command, you can generate inline documentation for your code without opening the chat window. Type `Shift + Ctrl + H`, and Cody will start generating documentation for your selected code snippet or the entire file.

<video width="1920" height="1080" loop playsInline controls style={{ width: '100%', height: 'auto' }}>
  <source src="https://storage.googleapis.com/sourcegraph-assets/Docs/Media/inline-docs.mp4" type="video/mp4"/>
</video>

## Supported LLM models

For Cody Free users, Claude 3 Sonnet is the default LLM model for Chat and Commands. Users on Cody **Pro** have the ability to choose from a list of supported LLM models for Chat and Commands. These LLMs are Claude Instant, Claude 2.0, Claude 2.1, Claude 3 (Opus and Sonnet), ChatGPT 3.5 Turbo, ChatGPT 4 Turbo Preview, GPT-4o, and Mixtral.

![llm-selection-cody-pro](https://storage.googleapis.com/sourcegraph-assets/Docs/llm-select-jb.png)

Enterprise users get Claude 3 (Opus and Sonnet) as the default LLM models without extra cost. You also get additional capabilities like BYOLLM (Bring Your Own LLM), supporting Single-Tenant and Self Hosted setups for flexible coding environments. Your site administrator determines the LLM, and cannot be changed within the editor. However, Cody Enterprise users when using Cody Gateway have the ability to [configure custom models](/cody/core-concepts/cody-gateway#configuring-custom-models) Anthropic (like Claude 2.0 and Claude Instant) and OpenAI (GPT 3.5 and GPT 4).

<Callout type="note">To use Claude 3 (Opus and Sonnets) models with Cody Enterprise, make sure you've upgraded your Sourcegraph instance to the latest version.</Callout>

## Chat history

Next to the **Chat** tab is **Chat History**, which displays Cody's previous chat interactions. You can revisit any previous chat interactions to get the context of the conversation. You can export your chat history as JSON files for later use.

## Context fetching mechanism

JetBrains users on the Free or Pro plan can leverage [local search](/cody/core-concepts/context#context-selection) as the primary context source for Cody chat. Local or remote embeddings will no longer be produced or used as a context source.

Enterprise users can leverage the full power of the Sourcegraph search engine as the primary context provider to Cody.

<Callout type="info"> Read more about [Context fetching mechanism](/cody/core-concepts/context/#context-fetching-mechanism) in detail.</Callout>

## Context scope

JetBrains users on the Free or Pro plan get single-repo support in chat and can use one repo for context fetching. Enterprise users get multi-repo support in chat and can explicitly specify **up to 10 additional repos** they would like Cody to use for context.

## Context Selection

Cody automatically understands your codebase context based on the project opened in your workspace. However, you can override the automatic codebase detection at any point by enabling the **Chat Context** checkbox. This provides enhanced context selection powered by local search and allows Cody to use the selected codebase to answer your questions.

![context-selector](https://storage.googleapis.com/sourcegraph-assets/Docs/jb-enhanced-context.png)

Moreover, Cody's chat allows you to add files as context in your messages. Type `@-file` in the Cody chat window and then a filename to include a file as context.

## Updating the extension

JetBrains IntelliJ will typically notify you when updates are available for installed extensions. Follow the prompts to update the Cody extension to the latest version.
