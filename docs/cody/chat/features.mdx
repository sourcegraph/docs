# Chat Features

<p className="subtitle">Learn about the various features of Cody's chat.</p>

There are several features that you can use to make your chat experience better. These features may vary depending on the [client](/cody/clients) you are using. You can learn more about the support for these functionalities in the [feature parity reference](/cody/clients/feature-reference#chat).

## Intent detection

This feature automatically determines whether a user's query should be handled as a code search or an AI chat response. This functionality helps simplify developer workflows by providing the most appropriate type of response without requiring explicit mode switching.

### How it works

When a user submits a query in Chat, intent detection:

- Analyzes the query content and structure
- Determines the most appropriate response type (search or chat)
- Returns results in the optimal format
- Provides the ability to manually toggle between response types

![intent-detection](https://p21.p4.n0.cdn.zight.com/items/KouR7Qrz/f5476627-6786-4e53-a313-5257306df4a7.png?v=48b2b44a6d022be15560676bf75cd6c9)

## Smart search integration

Provides lightweight code search capabilities directly within the chat interface.

## Context-aware responses

Search results can be automatically used as context for follow-up queries.


## Default context

When you start a new Cody chat, the input window opens with a default `@-mention` context chips for the opened file and the current repository.

![context-retrieval](https://storage.googleapis.com/sourcegraph-assets/Docs/context-retrieval-102024.png)

At any point in time, you can edit these context chips or remove them entirely if you do not want to use these as context. Any chat without a context chip will instruct Cody to use no codebase context. However, you can always provide an alternate `@-mention` file or symbols to let Cody use it as a new context source.

When you have both a repository and files @-mentioned, Cody will search the repository for context while prioritizing the mentioned files.

## Add new context

You can add new custom context by adding `@-mention` context chips to the chat. At any point, you can use `@-mention` a repository, file, line range, or symbol, to ask questions about your codebase. Cody will use this new context to generate contextually relevant code.

## OpenCtx context providers

<Callout type="info">OpenCtx context providers are in the Experimental stage for all Cody VS Code users. Enterprise users can also use this, but with limited support. If you have feedback or questions, please visit our [support forum](https://community.sourcegraph.com/c/openctx/10).</Callout>

[OpenCtx](https://openctx.org/) is an open standard for bringing contextual info about code into your dev tools. Cody Free and Pro users can use OpenCtx providers to fetch and use context from the following sources:

- [Webpages](https://openctx.org/docs/providers/web) (via URL)
- [Jira tickets](https://openctx.org/docs/providers/jira)
- [Linear issues](https://openctx.org/docs/providers/linear-issues)
- [Notion pages](https://openctx.org/docs/providers/notion)
- [Google Docs](https://openctx.org/docs/providers/google-docs)
- [Sourcegraph code search](https://openctx.org/docs/providers/sourcegraph-search)

You can use `@-mention` web URLs to pull live information like docs. You can connect Cody to OpenCtx to `@-mention` non-code artifacts like Google Docs, Notion pages, Jira tickets, and Linear issues.

## Run offline

<Callout type="info">Support with Ollama is currently in the Experimental stage and is available for Cody Free and Pro plans.</Callout>

Cody chat can run offline with Ollama. The offline mode does not require you to sign in with your Sourcegraph account to use Ollama. Click the button below the Ollama logo, and you'll be ready to go.

![offline-cody-with-ollama](https://storage.googleapis.com/sourcegraph-assets/Docs/cody-offline-ollama.jpg)

You can still switch to your Sourcegraph account whenever you want to use Claude, OpenAI, Gemini, Mixtral, etc.

## LLM selection

Cody allows you to select the LLM you want to use for your chat, optimized for speed versus accuracy. Cody Free and Pro users can select multiple models. Enterprise users with the new [model configuration](/cody/clients/model-configuration) can use the LLM selection dropdown to choose a chat model.

You can read about these supported LLM models [here](/cody/capabilities/supported-models#chat-and-commands).

![LLM-models-for-cody-free](https://storage.googleapis.com/sourcegraph-assets/Docs/llm-dropdown-options-102024.png)

## Smart Apply and Execute code suggestions

Cody lets you dynamically insert code from chat into your files with **Smart Apply**. Whenever Cody provides a code suggestion, you can click the **Apply** button. Cody will then analyze your open code file, find where that relevant code should live, and add a diff. For chat messages where Cody provides multiple code suggestions, you can apply each in sequence to go from chat suggestions to written code.

Smart Apply also supports the executing of commands in the terminal. When you ask Cody a question related to terminal commands, you can now execute the suggestion in your terminal by clicking the `Execute` button in the chat window.

![smart-apply](https://storage.googleapis.com/sourcegraph-assets/Docs/smart-apply-102024.png)

## Chat history

Cody keeps a history of your chat sessions. You can view it by clicking the **History** button in the chat panel. You can **Export** it to a JSON file for later use or click the **Delete all** button to clear the chat history.

## Prompts

Cody offers quick, ready-to-use [prompts](/cody/capabilities/commands) for common actions to write, describe, fix, and smell code. Read more about [prompts](/cody/capabilities/commands) here.

## Ask Cody to write code

Cody chat can also write code for your questions. For example, in VS Code, ask Cody to "write a function that sorts an array in ascending order".

You are provided with code suggestions in the chat window and the following options for using the code.

- The **Copy Code** icon to your clipboard and paste the code suggestion into your code editor
- Insert the code suggestion at the current cursor location by the **Insert Code at Cursor** icon
- The **Save Code to New File** icon to save the code suggestion to a new file in your project

If Cody's answer isn't helpful, you can try asking again with a different context:

- **Public knowledge only**: Cody will not use your own code files as context; itâ€™ll only use knowledge trained into the base model.
- **Current file only**: Re-run the prompt again using just the current file as context.
- **Add context**: Provides @-mention context options to improve the response by explicitly including files, symbols, remote repositories, or even web pages (by URL).
