# Deep Cody

<p className="subtitle"> Learn about Deep Cody, an exclusive chat-based AI agent with enhanced capabilities.</p>

<Callout type="info">Deep Cody is currently in the Experimental stage and is available to Cody Pro and Enterprise users.</Callout>

Deep Cody is an AI agent that provides enhanced, context-aware chat capabilities. It extends Cody's functionality by proactively understanding your coding environment and gathering relevant information based on your requests before responding. This allows Deep Cody to deliver noticeably higher-quality responses.

Deep Cody aims to reduce the learning curve associated with traditional coding assistants by minimizing users' need to provide context manually. It achieves this through agentic context retrieval, where the AI autonomously gathers and analyzes context before generating a response.

Deep Cody can be used from the LLM selection drop-down in the Cody chat interface. All Cody Pro and Enterprise users can choose Deep Cody for fetching chat responses.

![Deep Cody chat interface](https://storage.googleapis.com/sourcegraph-assets/Docs/deep-cody.png)

## What can Deep Cody do?

Deep Cody can help you with the following:

- **Proactive context gathering**: Automatically gathers relevant context from your codebase, project structure, and current task
- **Agentic context review**: Reviews the gathered context to ensure it is comprehensive and relevant to your query
- **Iterative context improvement**: Performs multiple review loops to refine the context and ensure a thorough understanding
- **Enhanced response accuracy**: Leverages comprehensive context to provide more accurate and relevant responses, reducing the risk of hallucinations

## Context fetching sources

Deep Cody has access to a suite of tools for retrieving relevant context:

- **Search**: Searches the codebase using keywords extracted from your query
- **File**: Retrieves the content of specific files in your codebase
- **CLI**: Executes terminal commands to gather system or project-specific information
- **Memory**: Allows the agent to create personal notes that can be used across chat sessions
- **Web browser (via OpenCtx)**: Searches the web for live context
- **Linear issues (via OpenCtx)**: Integrates with Linear issue tracking when the provider is configured

Deep Cody integrates seamlessly with external services, such as web content retrieval and issue tracking systems, using OpenCtx providers. To learn more, [read the OpenCtx docs](/cody/capabilities/openctx).

Memory allows Deep Cody to learn and remember your preferences, enabling a more personalized experience. You can ask Deep Cody to **remember** specific details for future interactions.

## Terminal commands

Deep Cody can use the CLI Tool to execute shell commands and gather context from your terminal. This feature requires proper configuration on both your Sourcegraph instance and editor:

- **Sourcegraph Instance**: The `deep-cody-shell-context` feature flag must be enabled for your account (this flag is disabled by default). Site administrators can enable it for all users or specific individuals
- Cody editor: Ensure compatibility with your configured setup

<Callout type="info">It's recommended not to request information that you don't want to share.</Callout>

Deep Cody’s ability to execute terminal commands enhances its context-gathering capabilities. However, it’s essential to understand that any information accessible via your terminal could potentially be shared with the LLM. Here's what you should consider:

- **Trusted workspaces only**: Commands can only be executed within trusted workspaces with a valid shell
- **Potential data sharing**: Any terminal-accessible information may be shared with the LLM.
- **Allow list configuration**: This feature is disabled if the allow list is empty. By default, the allow list is set to ['*'], which allows all commands. For enhanced security, use specific command prefixes instead of the wildcard *.

Commands are generated by the agent/LLM based on your request. Avoid asking it to execute destructive commands if you do not want them to run.

## Configure shell command execution

You can configure shell command execution via the `cody.agentic.context` setting in your editor:

### Enable Deep Cody access to CLI

Update the `cody.agentic.context` setting to `allow` or `block` specific commands:

```json
{
  "cody.agentic.context": {
    "shell": {
  // Array of allowed command prefixes, or ["*"] for all commands
      "allow": ["git", "gh", "ls"],
      "block": ["git"] // Additional commands to block
    }
  }
}
```

### Disable Deep Cody access to CLI

To disable the feature, navigate to your user settings and set `cody.agentic.context` to an empty value. When disabled, the Deep Cody agent cannot access the CLI.

## Access to Deep Cody

Site admins must enable the following feature flags that are disabled by default to access Deep Cody:

- `deep-cody`: Enables access to Deep Cody for your Sourcegraph instance
- `deep-cody-shell-context`: Enables Deep Cody to execute terminal commands automatically during the context retrieval step

## Use cases

Deep Cody can be helpful to assist with a wide range of tasks, including:

- **Improved response quality**: Deep Cody helps you get better and more accurate responses than other LLMs, making the additional processing time for context gathering a non-issue.
- **Error resolution**: Deep Cody can automatically identify error sources and suggest fixes by analyzing error logs
- **Better unit tests**: Automatically includes imports and other missing contexts to generate better unit tests
